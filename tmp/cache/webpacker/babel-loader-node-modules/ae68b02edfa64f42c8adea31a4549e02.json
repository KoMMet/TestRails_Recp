{"ast":null,"code":"//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport axios from 'axios';\nimport Modal from 'Modal.vue';\nexport default {\n  components: {\n    Modal: Modal\n  },\n  data: function data() {\n    return {\n      tusers: [],\n      showModal: false,\n      deleteTarget: -1,\n      errors: ''\n    };\n  },\n  mounted: function mounted() {\n    this.updateTuser();\n  },\n  methods: {\n    deleteTuser: function deleteTuser() {\n      var _this = this;\n\n      if (this.deleteTarget <= 0) {\n        console.warn('deleteTarget should be grater than zero.');\n        return;\n      }\n\n      axios[\"delete\"](\"/api/v1/tusers/\".concat(this.deleteTarget)).then(function (response) {\n        _this.deleteTarget = -1;\n\n        _this.updateTuser();\n      })[\"catch\"](function (error) {\n        console.error(error);\n\n        if (error.response.data && error.response.data.errors) {\n          _this.errors = error.response.data.errors;\n        }\n      });\n    },\n    updateTuser: function updateTuser() {\n      var _this2 = this;\n\n      axios.get('/api/v1/tusers.json').then(function (response) {\n        return _this2.tusers = response.data;\n      });\n    }\n  }\n};","map":{"version":3,"sources":["TuserIndexPage.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;AAyBA,OAAA,KAAA,MAAA,OAAA;AACA,OAAA,KAAA,MAAA,WAAA;AAEA,eAAA;AACA,EAAA,UAAA,EAAA;AACA,IAAA,KAAA,EAAA;AADA,GADA;AAIA,EAAA,IAAA,EAAA,gBAAA;AACA,WAAA;AACA,MAAA,MAAA,EAAA,EADA;AAEA,MAAA,SAAA,EAAA,KAFA;AAGA,MAAA,YAAA,EAAA,CAAA,CAHA;AAIA,MAAA,MAAA,EAAA;AAJA,KAAA;AAMA,GAXA;AAYA,EAAA,OAZA,qBAYA;AACA,SAAA,WAAA;AACA,GAdA;AAeA,EAAA,OAAA,EAAA;AACA,IAAA,WAAA,EAAA,uBAAA;AAAA;;AACA,UAAA,KAAA,YAAA,IAAA,CAAA,EAAA;AACA,QAAA,OAAA,CAAA,IAAA,CAAA,0CAAA;AACA;AACA;;AACA,MAAA,KAAA,UAAA,0BACA,KAAA,YADA,GAEA,IAFA,CAEA,UAAA,QAAA,EAAA;AACA,QAAA,KAAA,CAAA,YAAA,GAAA,CAAA,CAAA;;AACA,QAAA,KAAA,CAAA,WAAA;AACA,OALA,WAMA,UAAA,KAAA,EAAA;AACA,QAAA,OAAA,CAAA,KAAA,CAAA,KAAA;;AACA,YAAA,KAAA,CAAA,QAAA,CAAA,IAAA,IAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA,EAAA;AACA,UAAA,KAAA,CAAA,MAAA,GAAA,KAAA,CAAA,QAAA,CAAA,IAAA,CAAA,MAAA;AACA;AACA,OAXA;AAYA,KAlBA;AAmBA,IAAA,WAAA,EAAA,uBAAA;AAAA;;AACA,MAAA,KAAA,CACA,GADA,CACA,qBADA,EAEA,IAFA,CAEA,UAAA,QAAA;AAAA,eAAA,MAAA,CAAA,MAAA,GAAA,QAAA,CAAA,IAAA;AAAA,OAFA;AAGA;AAvBA;AAfA,CAAA","sourcesContent":["<template>\n  <div id=\"app\">\n    <table>\n      <tbody>\n        <tr>\n          <th>ID</th>\n          <th>name</th>\n        </tr>\n        <tr v-for=\"e in tusers\" :key=\"e.id\">\n\t  <td><router-link :to=\"{ name: 'TuserDetailPage', params: { id: e.id } }\">{{ e.id }}</router-link></td>\n          <td>{{ e.id }}</td>\n          <td>{{ e.name }}</td>\n\t  <td>\n\t\t<button @click=\"deleteTarget = e.id; showModal = true\">Delete</button>\n\t  </td>\n        </tr>\n      </tbody>\n    </table>\n    <modal v-if=\"showModal\" @cancel=\"showModal=false\" @ok=\"deleteTuser(); shoModal = false;\">\n      <div slot=\"body\">Are you sure?</div>\n    </modal>\n  </div>\n</template>\n\n<script>\nimport axios from 'axios';\nimport Modal from 'Modal.vue';\n\nexport default {\n  components:{\n\tModal\n  },\n  data: function () {\n    return {\n      tusers: [],\n      showModal:false,\n      deleteTarget: -1,\n      errors:''\n    }\n  },\n  mounted(){\n    this.updateTuser();\n  },\n  methods: {\n    deleteTuser: function(){\n      if(this.deleteTarget <= 0){\n        console.warn('deleteTarget should be grater than zero.');\n        return;\n      }\n    axios\n      .delete(`/api/v1/tusers/${this.deleteTarget}`)\n      .then(response =>{\n        this.deleteTarget = -1;\n        this.updateTuser();\n      })\n      .catch(error => {\n        console.error(error);\n        if(error.response.data && error.response.data.errors) {\n           this.errors = error.response.data.errors;\n         }\n      });\n    },\n    updateTuser:function(){\n    axios\n      .get('/api/v1/tusers.json')\n      .then(response => (this.tusers = response.data))\n    }\n  }\n}\n</script>\n\n<style scoped>\np {\n  font-size: 2em;\n  text-align: center;\n}\n</style>\n"],"sourceRoot":"app/javascript"},"metadata":{},"sourceType":"module"}